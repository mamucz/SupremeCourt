<nav class="top-menu w-full bg-green-600 text-white p-3 flex justify-end items-center space-x-4 shadow-md relative">

  <!-- 🌍 Jazykový přepínač s vlaječkami -->
  <div class="relative" (mouseleave)="dropdownOpen = false">
    
    <!-- Tlačítko -->
    <button
      (mouseenter)="dropdownOpen = true"
      class="bg-green-700 text-white rounded-full px-3 py-1 hover:bg-green-800 flex items-center"
      aria-label="Current language"
    >
      <img
        [src]="'assets/flags/4x3/' + getFlag(currentLang) + '.png'"
        alt="Current language"
        class="w-6 h-auto rounded-sm"
      />
    </button>

    <!-- Dropdown -->
    <div
      *ngIf="dropdownOpen"
      (mouseenter)="dropdownOpen = true"
      (mouseleave)="dropdownOpen = false"
      class="absolute right-0 mt-0 bg-white text-black rounded shadow-md z-50 min-w-[60px]"
    >
      <button
        *ngFor="let lang of languages"
        (click)="switchLanguage(lang.code); dropdownOpen = false"
        class="w-full px-3 py-2 hover:bg-gray-100 flex items-center justify-center"
        [attr.aria-label]="lang.name"
      >
        <img
          [src]="'assets/flags/4x3/' + getFlag(lang.code) + '.png'"
          class="w-6 h-auto rounded-sm"
          alt="{{ lang.name }}"
        />
      </button>
    </div>
  </div>

  <!-- 🚪 Odhlášení -->
  <button
    *ngIf="auth.isLoggedIn()"
    (click)="logout()"
    class="bg-red-600 hover:bg-red-700 text-white rounded px-3 py-1"
    aria-label="Logout"
  >
    🚪
  </button>
</nav>
